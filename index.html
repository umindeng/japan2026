<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 北陸冬遊親子規劃 旗艦版 V15 FINAL</title>
    <!-- 載入外部資源 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* 基礎樣式與平滑滾動 */
        html { scroll-behavior: smooth; }
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #F8FAFC; color: #0F172A; }
        
        /* 導覽補償：解決標題被遮擋問題 */
        section { scroll-margin-top: 5rem; }

        /* 行程卡片對比色彩 - V12架構 */
        .day-card-blue { background-color: #DBEAFE; border-left: 10px solid #1D4ED8; }
        .day-card-orange { background-color: #FFEDD5; border-left: 10px solid #EA580C; }
        .day-card-green { background-color: #DCFCE7; border-left: 10px solid #15803D; }
        .day-card-pink { background-color: #FCE7F3; border-left: 10px solid #BE185D; }
        
        /* 門票標籤樣式 */
        .ticket-box { background: #FFFFFF; border: 2px solid #1E293B; color: #1E293B; padding: 2px 10px; border-radius: 99px; font-weight: 900; font-size: 0.75rem; }
        .timeline-line { position: absolute; left: 1.75rem; top: 0; bottom: 0; width: 4px; background: #E2E8F0; z-index: 0; }
        .desc-text { color: #1F2937; line-height: 1.8; text-align: justify; font-weight: 500; font-size: 0.95rem; }

        /* 攻略圖框架 */
        .map-frame { position: relative; overflow: hidden; border-radius: 2.5rem; border: 6px solid white; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.2); background-color: #E2E8F0; cursor: zoom-in; }
        .map-img { width: 100%; height: auto; transition: transform 0.6s ease; display: block; }
        .map-frame:hover .map-img { transform: scale(1.08); }
        
        /* 燈箱 Lightbox 視窗 */
        #lightbox { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.95); z-index: 10000; align-items: center; justify-content: center; padding: 20px; cursor: zoom-out; }
        #lightbox img { max-width: 95%; max-height: 90%; border-radius: 12px; box-shadow: 0 0 60px rgba(255,255,255,0.2); }

        /* 導覽列連結 */
        .nav-link { cursor: pointer; transition: all 0.3s; border-bottom: 3px solid transparent; font-weight: 900; }
        .nav-link:hover { color: #1E40AF; border-bottom-color: #1E40AF; }
        
        /* 圖片載入錯誤備用樣式 */
        .img-fallback { padding: 50px; text-align: center; background: #f1f5f9; border-radius: 2rem; color: #94a3b8; font-weight: bold; }
    </style>

    <script>
        // 1. 燈箱功能邏輯
        function openLightbox(src) {
            const lb = document.getElementById('lightbox');
            const img = document.getElementById('lightbox-img');
            img.src = src;
            lb.style.display = 'flex';
            document.body.style.overflow = 'hidden'; // 禁止底層捲動
        }

        function closeLightbox() {
            document.getElementById('lightbox').style.display = 'none';
            document.body.style.overflow = 'auto'; // 恢復捲動
        }

        // 2. 圖片錯誤防護邏輯
        function showFallback(imgElement, title) {
            const parent = imgElement.parentElement;
            const fallbackDiv = document.createElement('div');
            fallbackDiv.className = 'img-fallback';
            fallbackDiv.innerHTML = `<i class="fa-solid fa-file-image text-4xl mb-4 opacity-30"></i><p>${title}<br><span class='text-xs font-normal'>請檢查檔案 ${imgElement.getAttribute('src')} 是否已上傳至同一路徑</span></p>`;
            parent.appendChild(fallbackDiv);
            imgElement.style.display = 'none';
        }

        // 3. 精確導覽跳轉邏輯 (修正 GitHub 跳轉問題)
        function scrollToSection(event, id) {
            if (event) event.preventDefault();
            const element = document.getElementById(id);
            if (element) {
                const headerOffset = 90; 
                const elementPosition = element.getBoundingClientRect().top;
                const offsetPosition = elementPosition + window.pageYOffset - headerOffset;

                window.scrollTo({
                    top: offsetPosition,
                    behavior: "smooth"
                });
            }
        }
    </script>
</head>
<body class="antialiased">

    <!-- Lightbox Modal -->
    <div id="lightbox" onclick="closeLightbox()">
        <img id="lightbox-img" src="" alt="放大攻略地圖">
        <p class="absolute bottom-6 text-white font-black tracking-widest bg-black/60 px-6 py-2 rounded-full border border-white/20">點擊任何地方關閉</p>
    </div>

    <!-- Navigation Bar -->
    <nav class="fixed top-0 w-full bg-white/95 backdrop-blur-md z-50 border-b border-slate-200 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 h-16 flex justify-between items-center">
            <div class="flex items-center gap-2">
                <i class="fa-solid fa-snowflake text-blue-700 text-2xl"></i>
                <span class="font-black text-xl text-blue-900 tracking-tighter">北陸親子冬遊 2026</span>
            </div>
            <div class="hidden lg:flex gap-8 text-slate-700">
                <span onclick="scrollToSection(event, 'gallery')" class="nav-link py-1">攻略圖</span>
                <span onclick="scrollToSection(event, 'itinerary')" class="nav-link py-1">每日行程</span>
                <span onclick="scrollToSection(event, 'food')" class="nav-link py-1">美食地圖</span>
                <span onclick="scrollToSection(event, 'stay')" class="nav-link py-1">交通住宿</span>
                <span onclick="scrollToSection(event, 'video')" class="nav-link py-1">影音攻略</span>
            </div>
            <div class="bg-blue-800 text-white px-5 py-2 rounded-full text-xs font-black shadow-md">
                NGO 桃園 <i class="fa-solid fa-plane"></i> CI150
            </div>
        </div>
    </nav>

    <!-- Section 1: Illustration Gallery (點擊放大功能) -->
    <section id="gallery" class="pt-28 pb-12 px-4 max-w-7xl mx-auto">
        <div class="text-center mb-16">
            <h1 class="text-4xl md:text-6xl font-black text-slate-900 mb-4 tracking-tight underline decoration-blue-200 underline-offset-8">日式插畫攻略圖</h1>
            <p class="text-slate-500 font-bold italic mt-4 text-lg">為您呈現名古屋、金澤與高山合掌村的冬日探險。點擊地圖可展開放大查看細節。</p>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-12 text-slate-800">
            <!-- Map 1 -->
            <div class="map-frame group" onclick="openLightbox('Gemini_Generated_Image_1.webp')">
                <img src="Gemini_Generated_Image_1.webp" class="map-img" alt="1. 名古屋攻略" onerror="showFallback(this, '插圖 1: 名古屋攻略')">
                <div class="bg-white p-4 text-center font-black border-t border-slate-100 italic group-hover:text-blue-700 transition">1. 名古屋周邊旅遊攻略 (點擊放大)</div>
            </div>
            <!-- Map 2 -->
            <div class="map-frame group" onclick="openLightbox('Gemini_Generated_Image_2.webp')">
                <img src="Gemini_Generated_Image_2.webp" class="map-img" alt="2. 金澤與高岡攻略" onerror="showFallback(this, '插圖 2: 金澤與高岡攻略')">
                <div class="bg-white p-4 text-center font-black border-t border-slate-100 italic group-hover:text-blue-700 transition">2. 金澤與高岡攻略地圖 (點擊放大)</div>
            </div>
            <!-- Map 3 -->
            <div class="map-frame group" onclick="openLightbox('Gemini_Generated_Image_3.webp')">
                <img src="Gemini_Generated_Image_3.webp" class="map-img" alt="3. 高山與合掌村攻略" onerror="showFallback(this, '插圖 3: 高山與合掌村攻略')">
                <div class="bg-white p-4 text-center font-black border-t border-slate-100 italic group-hover:text-blue-700 transition">3. 高山與合掌村攻略地圖 (點擊放大)</div>
            </div>
        </div>
    </section>

    <!-- Section 2: Dashboard -->
    <section id="overview" class="py-12 px-4 max-w-7xl mx-auto border-t border-slate-100">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-10">
            <div class="bg-white p-10 rounded-[3rem] shadow-sm border border-slate-100">
                <h3 class="font-black text-2xl mb-8 flex items-center gap-3 text-blue-800"><i class="fa-solid fa-chart-pie"></i> 行程平衡分析</h3>
                <div class="h-64 relative">
                    <canvas id="typeChart"></canvas>
                </div>
            </div>
            <div class="bg-white p-10 rounded-[3rem] shadow-sm border border-slate-100">
                <h3 class="font-black text-2xl mb-8 flex items-center gap-3 text-blue-800"><i class="fa-solid fa-coins"></i> 預估人均餐費 (JPY)</h3>
                <div class="h-64 relative">
                    <canvas id="budgetChart"></canvas>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 3: Detailed Itinerary -->
    <section id="itinerary" class="py-20 px-4 max-w-5xl mx-auto">
        <h2 class="text-4xl md:text-5xl font-black mb-16 text-slate-900 border-l-[16px] border-blue-800 pl-8">13日行程深度詳解</h2>
        <div class="relative space-y-24" id="itinerary-grid">
            <div class="timeline-line"></div>
            <!-- Daily Content Injected by JS -->
        </div>
    </section>

    <!-- Section 4: Food Map -->
    <section id="food" class="py-24 px-4 bg-slate-950 text-white">
        <div class="max-w-7xl mx-auto">
            <div class="flex flex-col md:flex-row justify-between items-end mb-16 gap-8 text-slate-900">
                <div>
                    <h2 class="text-4xl font-black mb-4 text-blue-400">美食預算導航 (26家嚴選)</h2>
                    <p class="text-slate-400 font-bold text-lg">標註預估費用，滿足全家人對和牛、螃蟹與小吃的嚮往。</p>
                </div>
                <div class="flex flex-wrap gap-3 font-black text-sm text-white">
                    <button onclick="filterFood('all')" class="food-btn active bg-blue-700 px-8 py-3 rounded-full transition shadow-lg">全部區域</button>
                    <button onclick="filterFood('nagoya')" class="food-btn bg-slate-800 px-8 py-3 rounded-full transition border border-slate-700">名古屋</button>
                    <button onclick="filterFood('takayama')" class="food-btn bg-slate-800 px-8 py-3 rounded-full transition border border-slate-700">高山/合掌</button>
                    <button onclick="filterFood('kanazawa')" class="food-btn bg-slate-800 px-8 py-3 rounded-full transition border border-slate-700">金澤/富山</button>
                </div>
            </div>
            <div id="food-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                <!-- Food Items Injected by JS -->
            </div>
        </div>
    </section>

    <!-- Section 5: Stay & Logistics -->
    <section id="stay" class="py-24 px-4 max-w-7xl mx-auto">
        <h2 class="text-3xl font-black text-slate-900 mb-12 border-l-8 border-amber-600 pl-4">住宿通訊與交通資料</h2>
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-10">
            <div class="bg-white p-10 rounded-[3.5rem] shadow-sm border border-slate-200 text-slate-800">
                <h3 class="text-2xl font-black mb-8 flex items-center gap-3 text-blue-900"><i class="fa-solid fa-hotel"></i> 飯店聯絡詳細地址</h3>
                <div class="space-y-6" id="stay-list">
                    <!-- Stay list injected by JS -->
                </div>
            </div>
            <div class="flex flex-col gap-10">
                <div id="traffic-box" class="bg-blue-900 text-white p-10 rounded-[3.5rem] shadow-2xl">
                    <h3 class="text-2xl font-black mb-8 flex items-center gap-3 text-amber-400"><i class="fa-solid fa-road"></i> 即時道路與天氣資料</h3>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 text-center font-bold">
                        <a href="https://www.jartic.or.jp/" target="_blank" rel="noopener noreferrer" class="bg-white/10 p-5 rounded-3xl hover:bg-white/20 transition flex flex-col items-center">
                            <i class="fa-solid fa-traffic-light text-3xl mb-2"></i>
                            <span>JARTIC 全國路況</span>
                        </a>
                        <a href="https://weather.yahoo.co.jp/weather/jp/21/5220.html" target="_blank" rel="noopener noreferrer" class="bg-white/10 p-5 rounded-3xl hover:bg-white/20 transition flex flex-col items-center">
                            <i class="fa-solid fa-cloud-snow text-3xl mb-2"></i>
                            <span>Yahoo! 氣象情報</span>
                        </a>
                        <a href="https://ihighway.jp/pcsite/map/?area=area04" target="_blank" rel="noopener noreferrer" class="bg-white/10 p-5 rounded-3xl hover:bg-white/20 transition flex flex-col items-center col-span-1 sm:col-span-2">
                            <i class="fa-solid fa-map-location-dot text-3xl mb-2"></i>
                            <span>iHighway 中日本地圖</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 6: Video Section -->
    <section id="video" class="py-24 px-4 bg-white scroll-mt-20 border-t border-slate-100">
        <div class="max-w-7xl mx-auto">
            <div class="text-center mb-16">
                <h2 class="text-4xl font-black mb-4 text-slate-900 underline decoration-blue-200 underline-offset-8">旅遊攻略影音彙整</h2>
                <p class="text-slate-500 font-bold italic text-xl mt-4">嚴選 10 組有效 YouTube 連結，助您預先熟悉精彩景點。</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12" id="yt-grid">
                <!-- Video Cards Injected by JS -->
            </div>
        </div>
    </section>

    <footer class="py-16 bg-slate-900 text-center text-slate-500">
        <p class="font-black text-sm tracking-widest uppercase italic">2026 NORTH LAND ADVENTURE | V15 GITHUB FINAL</p>
    </footer>

    <script>
        // --- 4. DATA DEFINITIONS (ITINERARY / FOOD / VIDEOS) ---
        const dayData = [
            { day: 1, date: "1/16 (五)", title: "抵達中部空港", style: "day-card-blue", spots: [
                { name: "CI150 飛抵名古屋 (20:50)", time: "20:50", price: "免費", desc: "搭乘中華航空抵達名古屋中部國際機場 (NGO)。出關後請備好入境碼。這家東橫INN與航廈直結，步行即可抵達，是長途飛行後最好的休息選擇。", map: "https://maps.app.goo.gl/3A7f6E7YyG7vX6A67" },
                { name: "機場超商補給宵夜", time: "21:30", price: "自行花費", desc: "入境後機場商店多已打烊，可至飯店旁超商採買冬季限定飲品與飯糰。超商牛奶與布丁是開啟日本之夜的首選，別忘了買簡易早餐。", map: "https://maps.app.goo.gl/uR79A9j2R6vYn7Q98" },
                { name: "東橫INN 中部空港 入住", time: "22:00", price: "免費", desc: "這間飯店與航廈直接連結，極度適合親子。早點休息，因為明早 10:00 需要領車開啟移動。飯店大廳提供秤重器，可在此整理行李空間。", map: "https://maps.app.goo.gl/7yv9Q9E9r8A6S7N6" },
                { name: "預備：自駕路線最後確認", time: "22:30", price: "免費", desc: "利用飯店 WiFi 確認取車位置與山區路況。冬季山區降雪機率大，心理要有雪地駕駛準備。這是趟深度冬之旅的起點。", map: "https://ihighway.jp/pcsite/map/?area=area04" }
            ]},
            { day: 2, date: "1/17 (六)", title: "自駕取車與雪裝採買", style: "day-card-orange", spots: [
                { name: "領車 (4WD+雪胎)", time: "10:00", price: "預約制", desc: "領車時務必檢查雪胎與兒童座椅。確認 4WD 配置，雪季駕駛安全第一。請員工將導航設定為中文。確認除雪刷與備用反光背心位置。", map: "https://www.google.com/maps/search/Times+Car+Rental+Centrair" },
                { name: "AEON Mall 常滑採買", time: "11:00", price: "自行花費", desc: "商場就在機場隔壁。前往 Uniqlo 或 Montbell 購買防水雪鞋與毛帽。小孩防水保暖配備建議在此買齊。AEON 內有巨大招財貓供拍照。", map: "https://maps.app.goo.gl/AEONMallTokoname" },
                { name: "中途休憩：瓢岳 PA", time: "14:30", price: "自行花費", desc: "前往高山中繼站。在此可購買特色炸雞與熱飲，享受氣溫驟降氛圍，觀察窗外阿爾卑斯風景。長途駕駛每 1.5 小時務必休息。", map: "https://maps.app.goo.gl/NagaragawaSA" },
                { name: "高山老街飛驒牛晚餐", time: "17:30", price: "自行花費", desc: "入住旅館後漫步老街紅橋。晚餐推薦丸明或味之與平，品嚐頂級飛驒牛燒肉，入口即化。這是親子行最奢華開場，雪中古宅氛圍極美。", map: "https://maps.app.goo.gl/SanmachiSuji" }
            ]},
            { day: 3, date: "1/18 (日)", title: "朝市風情與童話合掌村", style: "day-card-green", spots: [
                { name: "宮川朝市體驗", time: "09:00", price: "免費", desc: "日本三大朝市。販售農產與工藝品。買顆現削蘋果在雪中享用。這是觀察高山傳統建築與當地脈絡的最佳場所，親子散步氣氛溫馨。", map: "https://maps.app.goo.gl/MiyagawaMarket" },
                { name: "高山陣屋 (古官府)", time: "11:00", price: "大人 ¥440 / 學生 免費", desc: "日本唯一完整保存郡代役所。建築壯麗具歷史深度。冬天地板冷請穿厚襪子參觀。室內庭園極具禪意，適合帶領小孩了解日本官場規則。", map: "https://maps.app.goo.gl/TakayamaJinya" },
                { name: "世界遺產：白川鄉合掌村", time: "13:30", price: "大 ¥1,000 / 小 ¥500", desc: "冬季必訪夢幻景點！搭接駁車上展望台俯瞰全景。小孩可在屋前玩雪，參觀內部驚嘆於古人抗寒智慧。傍晚點燈（若有）更具魅力。", map: "https://maps.app.goo.gl/ShirakawaGo" },
                { name: "抵達金澤 / 鼓門夜景", time: "17:00", price: "免費", desc: "離開白川鄉拉車至金澤。車站「鼓門」夜晚亮燈非常壯觀。晚餐可在車站百貨享用美食。夜晚金澤被譽為北陸最美。", map: "https://maps.app.goo.gl/KanazawaStation" }
            ]},
            { day: 4, date: "1/19 (一)", title: "金澤名園美學一日", style: "day-card-pink", spots: [
                { name: "兼六園 (日本三名園)", time: "09:00", price: "大人 ¥320 / 小孩 ¥100", desc: "雪季限定「雪吊」繩索結構是絕佳攝影點。園區寬闊是小孩放電好地方。霞池倒影雪景如夢似幻，建議喝杯抹茶享受慢時光。", map: "https://maps.app.goo.gl/Kenrokuen" },
                { name: "金澤城公園散策", time: "11:00", price: "大人 ¥320 / 小孩 ¥100", desc: "就在兼六園對面。五十間長屋展現精湛木造工法。白雪覆蓋護城河充滿歷史感。散步到玉泉院丸庭園，欣賞復原後的庭園設計。", map: "https://maps.app.goo.gl/KanazawaCastle" },
                { name: "21 世紀美術館 (泳池)", time: "14:00", price: "大人 ¥450+ / 小 免費", desc: "著名的「游泳池」展品可讓人在水底下互動，小孩會驚嘆不已。館外裝置藝術也非常好拍。是一場視覺與創意的饗宴。", map: "https://maps.app.goo.gl/21stCenturyMuseum" },
                { name: "近江町市場海鮮晚餐", time: "16:30", price: "自行花費", desc: "金澤廚房。品嚐著名的加能蟹與現切生魚片。雖然市場收攤但餐廳區依然熱鬧。海鮮丼飯用料豐富。別忘了買盒草莓。", map: "https://maps.app.goo.gl/OmichoMarket" }
            ]},
            { day: 5, date: "1/20 (二)", title: "高岡哆啦A夢行程", style: "day-card-blue", spots: [
                { name: "高岡市美術館 (故鄉畫廊)", time: "10:00", price: "大人 ¥500 / 小孩 ¥300", desc: "藤子·F·不二雄故鄉。內含原稿與精品展示，是找回夢想的起點。出口有許多限定精品，大人小孩都會喜歡的地方。", map: "https://maps.app.goo.gl/TakaokaArtMuseum" },
                { name: "御伽之森公園", time: "12:00", price: "免費", desc: "還原漫畫空地水泥管場景。雪中與哆啦A夢主角塑像合照。室內科學館有遊戲室可避雪。這是此行最幸福打卡點。", map: "https://maps.app.goo.gl/OtogiNoMoriPark" },
                { name: "高岡大佛巡禮", time: "14:00", price: "免費", desc: "莊嚴青銅大佛，高岡精神象徵。雪中大佛更顯肅穆。位於市中心可抵達，參觀底座了解歷史。體會高岡金屬工藝。", map: "https://maps.app.goo.gl/TakaokaDaibutsu" },
                { name: "金澤螃蟹盛宴", time: "18:00", price: "預估 ¥10,000+", desc: "回到金澤享用螃蟹餐。冬天的加能蟹肉質甜美。不論炭火烤或是火鍋，都是巔峰享受。建議提前預約弁吉名店。", map: "https://maps.app.goo.gl/KanazawaCrab" }
            ]},
            { day: 6, date: "1/21 (三)", title: "茶屋文化與忍者寺", style: "day-card-orange", spots: [
                { name: "東茶屋街 (散策時光)", time: "09:30", price: "免費", desc: "江戶時代氣息。木造房屋石板路在雪中極雅緻。必買金箔冰淇淋。這裡是拍攝全家照的絕佳場景，陽光與雪地靜謐。", map: "https://maps.app.goo.gl/HigashiChaya" },
                { name: "忍者寺 (妙立寺)", time: "13:30", price: "大 ¥1,000 / 小 ¥700", desc: "需預約。充滿暗門秘密地道。導覽趣味性高（提供中文手冊），了解藩主亂世下的保命智慧。刺激文化探險。", map: "https://maps.app.goo.gl/NinjaTemple" },
                { name: "長町武家屋敷散策", time: "15:30", price: "大人 ¥550 / 小孩 ¥300", desc: "昔日武士居住區。土牆覆蓋稻草景象獨特。參觀野村家遺址。庭園獲米其林三星推薦，雪中更顯寧靜深沉。", map: "https://maps.app.goo.gl/NagamachiSamurai" },
                { name: "金澤最後大採購", time: "17:30", price: "自行花費", desc: "離開金澤前車站百貨採買。推薦 morimori 壽司。百貨內精品豐富，挑選金澤限定精品，為回程移動備糧。", map: "https://maps.app.goo.gl/KanazawaForus" }
            ]},
            { day: 7, date: "1/22 (四)", title: "換大車・拉車回歸", style: "day-card-green", spots: [
                { name: "移動回名古屋 (3.5hr)", time: "10:00", price: "免費", desc: "今日為拉車日。雪地開車請定速巡航。穿越長隧道進入中京地區。景緻震撼，自駕獨有的視覺洗禮。保持安全車距。", map: "https://maps.app.goo.gl/KanazawaToNGO" },
                { name: "養老 SA 休息站", time: "14:00", price: "自行花費", desc: "歷史感休息站，品嚐養老水。伸展駕駛連續肌肉，買特色小餅乾。視野開闊適合小孩跑跳緩解疲勞感。", map: "https://maps.app.goo.gl/YoroSA" },
                { name: "空港換車 (領 7 人座)", time: "19:00", price: "租金預付", desc: "回中部空港換租 7 人座豪華車款（如 Alphard）。增加購物與行李載運空間。為回台前大採購做萬全準備。", map: "https://maps.app.goo.gl/NGORental" },
                { name: "入住宿飯店休息", time: "20:30", price: "免費", desc: "入住飯店鄰近高速。晚餐選擇附近食堂或超市熟食。早點入睡恢復體力，為明早樂高樂園親子日儲備。", map: "https://maps.app.goo.gl/KanieHotel" }
            ]},
            { day: 8, date: "1/23 (五)", title: "樂高樂園親子全日", style: "day-card-pink", spots: [
                { name: "日本樂高樂園", time: "10:00", price: "大 ¥5,500+ / 小 ¥3,800+", desc: "針對小孩設計設施豐富。Miniland 樂高微縮日本絕對震撼。小孩忘記時間的天堂。參觀工廠領取限定積木。", map: "https://maps.app.goo.gl/LegolandNagoya" },
                { name: "磁浮鐵道館", time: "15:30", price: "大人 ¥1,000 / 小孩 ¥500", desc: "就在樂高旁。展示最尖端技術與新幹線。小孩會愛上模擬器。室內不受寒風影響，適合家庭深入體驗。", map: "https://maps.app.goo.gl/SCMAGLEV" },
                { name: "Maker's Pier 晚餐", time: "18:00", price: "自行花費", desc: "樂高門口美食廊。享用名古屋地雞或鰻魚飯。造景異國風，適合全家合影，為樂園日畫下滿足句點。", map: "https://maps.app.goo.gl/MakersPier" },
                { name: "金城碼頭夜景散策", time: "20:00", price: "免費", desc: "若有體力可步至碼頭。夜晚名古屋海邊靜謐美感，隨後開車返回飯店。親子共度時光中最放鬆時刻。", map: "https://maps.app.goo.gl/KinjofutoArea" }
            ]},
            { day: 9, date: "1/24 (六)", title: "岐阜城與松鼠體驗", style: "day-card-blue", spots: [
                { name: "岐阜城 (纜車往返)", time: "10:00", price: "大人 ¥1,100 / 小孩 ¥550", desc: "搭纜車俯瞰長良川。展示戰國文物。頂樓展望台雪景河谷壯麗，深度文化教育選點，感受信長公霸氣。", map: "https://maps.app.goo.gl/GifuCastle" },
                { name: "金華山松鼠村", time: "11:30", price: "入場費 ¥200", desc: "就在纜車站旁，戴上手套餵食松鼠。溫馴好拍照，小孩最棒互動，家庭客推崇的小確幸景點。", map: "https://maps.app.goo.gl/SquirrelVillage" },
                { name: "川原町老街散策", time: "13:30", price: "免費", desc: "保存古樸建築。可以挑選在地手工雨傘。雪中老街少了人群多了禪意。適合挖掘在地隱藏甜點店。", map: "https://maps.app.goo.gl/Kawaramachi" },
                { name: "羽島市民宿入住", time: "16:00", price: "免費", desc: "入住體驗深度日本居家。空間寬闊適合放鬆。去超市採購食材在民宿自行圍爐，享受家庭時光。", map: "https://maps.app.goo.gl/HashimaStay" }
            ]},
            { day: 10, date: "1/25 (日)", title: "滑雪場戲雪大戰", style: "day-card-orange", spots: [
                { name: "奧伊吹滑雪場 (戲雪)", time: "09:30", price: "大 ¥2,000 / 小 ¥1,000", desc: "專業玩雪！提供雪盆輸送帶，無須技術。小孩在雪中翻滾是大人的樂趣。務必穿戴防水裝備全套。", map: "https://maps.app.goo.gl/OkuibukiSki" },
                { name: "滑雪場 Kids Park", time: "12:00", price: "包含於戲雪費", desc: "專屬小孩樂園。工具一應俱全。這裡是行程中積雪最深處，玩雪過癮。挑戰雪盆滑坡樂趣無窮。", map: "https://maps.app.goo.gl/OkuibukiKids" },
                { name: "羽島 Costco 補給", time: "16:00", price: "自行花費", desc: "順路前往。買限定熟食飲品回民宿。Costco 對自駕補給友善。慶祝成功的雪地挑戰，全家享大餐。", map: "https://maps.app.goo.gl/CostcoHashima" },
                { name: "大垣城點燈", time: "18:00", price: "免費", desc: "回程經大垣看城堡點燈。晚上的城堡燈飾交織，是美麗小點，適合停留拍照回味。具歷史氣息。", map: "https://maps.app.goo.gl/OgakiCastle" }
            ]},
            { day: 11, date: "1/26 (一)", title: "汽車科技與巧克力", style: "day-card-green", spots: [
                { name: "豐田汽車博物館", time: "10:00", price: "大人 ¥1,200 / 小孩 ¥600", desc: "展示世界名車進化史。展館宏偉，即便不是車迷也驚嘆。館內餐廳豐田咖哩飯必吃，高品質親子教育點。", map: "https://maps.app.goo.gl/ToyotaMuseum" },
                { name: "雷神巧克力工廠店", time: "14:00", price: "自行花費", desc: "位於豐橋。買巨大版或限定口味「雷神巧克力」。巧克力天堂，適合大量採買回台送禮。", map: "https://maps.app.goo.gl/YurakuFactory" },
                { name: "豐橋公園放空散策", time: "16:00", price: "免費", desc: "稍微放慢節奏觀察當地生活。開車回民宿整理行李。欣賞鄉間黃昏，感受自駕之旅接近尾聲。", map: "https://maps.app.goo.gl/ToyohashiPark" },
                { name: "預備：長久手溫泉", time: "18:00", price: "大人 ¥800 / 小孩 ¥400", desc: "推薦「花之湯」。帶走多日駕駛疲勞。洗澡後喝瓶冰牛奶最高享受。設施現代淨爽。", map: "https://maps.app.goo.gl/NagakuteOnsen" }
            ]},
            { day: 12, date: "1/27 (二)", title: "科學館與大須最後衝刺", style: "day-card-pink", spots: [
                { name: "名古屋市科學館", time: "10:00", price: "大人 ¥800 / 小生 免費", desc: "具世界最大球體天文館。內有極低溫實驗室。室內親子天堂。小孩能玩一整天不膩。", map: "https://maps.app.goo.gl/NagoyaScience" },
                { name: "大須商店街最後購買", time: "13:30", price: "自行花費", desc: "藥妝雜貨與美食聚集。在此參拜大須觀音寺祈求平安，品嚐地道鯛魚燒與名物炸雞。", map: "https://maps.app.goo.gl/OsuShopping" },
                { name: "還車與入住機場飯店", time: "19:00", price: "免費", desc: "機場加油還車入住東橫INN。飯店有秤重計，仔細整理行李箱。全家回味 12 天夢幻回憶。", map: "https://maps.app.goo.gl/TokyokoInnAirport" },
                { name: "最後機場夜景", time: "21:00", price: "免費", desc: "離日前觀看飛機起降。夜晚航廈獨特魅力。買些甜點享受最後日本夜，完美畫下行程句點。", map: "https://maps.app.goo.gl/NGOSkyDeck" }
            ]},
            { day: 13, date: "1/28 (三)", title: "平安返家", style: "day-card-blue", spots: [
                { name: "免稅店伴手禮收尾", time: "08:00", price: "自行花費", desc: "衝刺名產伴手禮。13 天旅程絕對會成為全家最暖回憶。帶著滿滿戰利品踏上回程航次。", map: "https://maps.app.goo.gl/NGO免稅店" },
                { name: "CI151 返回桃園 (09:50)", time: "09:50", price: "免費", desc: "告別雪國。航程中整理照片回味。預計 12:15 抵達桃園。高品質親子之旅圓滿結束。", map: "https://maps.app.goo.gl/CentrairDepart" },
                { name: "領取行李回家", time: "13:30", price: "免費", desc: "平安落地，聯繫接駁車回溫暖的家。備份照片，永存美好的北陸親子回憶。期待下次探險！", map: "https://maps.app.goo.gl/TPEArrival" },
                { name: "行程圓滿回顧", time: "15:00", price: "免費", desc: "沉澱疲勞。成功克服雪況平安健康歸國。感謝規劃這場完美的親子之旅，回憶無價。", map: "https://maps.app.goo.gl/HomeSafe" }
            ]}
        ];

        const foodData = [
            { name: "もりもり寿し", type: "kanazawa", budget: "¥3,500/人", desc: "金澤最強迴轉壽司。喉黑魚與白蝦必點，新鮮度一流。", link: "https://maps.app.goo.gl/MorimoriSushi" },
            { name: "丸明 (燒肉)", type: "takayama", budget: "¥5,000/人", desc: "高山飛驒牛名店。入口即化，建議提前排隊。", link: "https://maps.app.goo.gl/Maruaki" },
            { name: "弁吉 (螃蟹吃到飽)", type: "kanazawa", budget: "¥12,000/人", desc: "當季加能蟹大盛宴。無限量享用北陸珍貴海味。", link: "https://maps.app.goo.gl/Benkichi" },
            { name: "蓬萊軒 鰻魚飯", type: "nagoya", budget: "¥4,800/人", desc: "名古屋鰻魚三吃。炭火氣與綿密米飯的經典味道。", link: "https://maps.app.goo.gl/Horaiken" },
            { name: "世界的山將", type: "nagoya", budget: "¥2,000/人", desc: "名物手羽先。胡椒香氣濃，宵夜配飲料最佳。", link: "https://maps.app.goo.gl/Yamachan" },
            { name: "麵屋大河", type: "kanazawa", budget: "¥1,200/人", desc: "味噌拉麵第一名。湯頭濃郁暖胃。冷冬救星。", link: "https://maps.app.goo.gl/MenyaTaiga" },
            { name: "箔一 金箔霜淇淋", type: "kanazawa", budget: "¥900/份", desc: "視覺衝擊。奢華金箔，東茶屋街必吃。", link: "https://maps.app.goo.gl/Hakuichi" },
            { name: "矢場豚 味噌豬排", type: "nagoya", budget: "¥2,000/人", desc: "味噌醬代表。豬排厚實下飯，名車站亦有分店。", link: "https://maps.app.goo.gl/Yabaton" },
            { name: "白海老亭", type: "kanazawa", budget: "¥2,500/人", desc: "富山灣寶石。丼飯甜無比，北陸不可錯過。", link: "https://maps.app.goo.gl/Shiroebiya" },
            { name: "高山 Kotte 壽司", type: "takayama", budget: "¥1,000/份", desc: "仙貝上壽司。老街邊走邊吃有趣味。", link: "https://maps.app.goo.gl/KotteUshi" },
            { name: "山本屋總本家", type: "nagoya", budget: "¥2,500/人", desc: "味噌煮込烏龍麵。嚼勁厚實，靈魂級滋味。", link: "https://maps.app.goo.gl/Yamamotoya" },
            { name: "高山布丁亭", type: "takayama", budget: "¥500/份", desc: "滑順細緻。瓶裝可愛，散策甜蜜首選。", link: "https://maps.app.goo.gl/PuddingTei" },
            { name: "味處 高崎", type: "kanazawa", budget: "¥10,000/人", desc: "精緻蟹料理。適合優雅慢步調品嚐螃蟹餐。", link: "https://maps.app.goo.gl/AjidokoroTakasaki" },
            { name: "壽賀喜屋", type: "nagoya", budget: "¥800/人", desc: "平價靈魂。經典拉麵加冰淇淋，小孩最愛。", link: "https://maps.app.goo.gl/Sugakiya" },
            { name: "味仙", type: "nagoya", budget: "¥1,500/人", desc: "台灣拉麵辛辣感。爆炒蒜頭絞肉名物。", link: "https://maps.app.goo.gl/Misen" },
            { name: "大須鯛魚燒", type: "nagoya", budget: "¥300/份", desc: "皮脆餡滿。商店街受歡迎小食。", link: "https://maps.app.goo.gl/OsuTaiyaki" },
            { name: "近江町海鮮丼", type: "kanazawa", budget: "¥3,000/人", desc: "每日直送海鮮。早晨市場享用最過癮。", link: "https://maps.app.goo.gl/OmichoDon" },
            { name: "星乃咖啡", type: "nagoya", budget: "¥1,200/人", desc: "咖啡送吐司。體驗名古屋悠閒早晨文化。", link: "https://maps.app.goo.gl/HoshinoCoffee" },
            { name: "金澤關東煮", type: "kanazawa", budget: "¥2,500/人", desc: "蟹面與車麩。冬季暖胃首選。", link: "https://maps.app.goo.gl/KanazawaOden" },
            { name: "熱田雞肉飯", type: "nagoya", budget: "¥1,800/人", desc: "Q彈滋味。名古屋知名在地名店。", link: "https://maps.app.goo.gl/AtsutaChicken" },
            { name: "羽島 Costco", type: "nagoya", budget: "¥1,500/人", desc: "超大披薩烤雞。民宿派對最高 CP 值。", link: "https://maps.app.goo.gl/CostcoHashima" },
            { name: "百貨蟹便當", type: "kanazawa", budget: "¥2,000/份", desc: "不想排隊時的最佳奢華提案。", link: "https://maps.app.goo.gl/DaiwaFood" },
            { name: "雷神巧克力", type: "nagoya", budget: "¥1,000/份", desc: "多口味雷神採購天堂。", link: "https://maps.app.goo.gl/YurakuGift" },
            { name: "海膳木 餐包", type: "nagoya", budget: "¥800/份", desc: "機場人氣麵包。最後伴手補給。", link: "https://maps.app.goo.gl/CentrairFood" },
            { name: "Maker's Pier", type: "nagoya", budget: "¥3,000/人", desc: "樂高美食。親子用餐友善。", link: "https://maps.app.goo.gl/MakersPier" },
            { name: "高山味噌團子", type: "takayama", budget: "¥200/串", desc: "現烤香。經典散步美食。", link: "https://maps.app.goo.gl/TakayamaDango" }
        ];

        const stayInfo = [
            { date: "Day 1, 12", name: "東橫INN 中部國際機場 1號店", addr: "愛知県常滑市セントレア4-2-5", tel: "0569-38-0045" },
            { date: "Day 2", name: "高山八兵衛日式旅館", addr: "岐阜県高山市上岡本町1-388", tel: "0577-35-3811" },
            { date: "Day 3-6", name: "金澤城堡酒店", addr: "石川県金沢市此花町10-17", tel: "076-223-2233" },
            { date: "Day 7-8", name: "Leisure Hotel Kanie", addr: "愛知県海部郡蟹江町源氏2-3", tel: "網路預約制" },
            { day: "Day 9-11", name: "岐阜羽島 民宿", addr: "Ligara-60 Takehanacho, Hashima", tel: "聯絡民宿主人" }
        ];

        const ytLinks = [
            { title: "北陸冬季攻略 [2024 日本旅遊]", id: "oXjI9Vi-XcY", detail: "合掌村點燈、老街、朝市美食。" },
            { title: "白川鄉：夢幻雪白遺產一日遊", id: "5ZC90dbbmGY", detail: "實測行程參觀合掌屋分享。" },
            { title: "北陸小京都金澤自由行攻略", id: "Yn-l5hrIVuI", detail: "市場、城公園與東茶屋街。" },
            { title: "最美的金澤夢幻雪吊紀錄", id: "OVjCdHuOuMA", detail: "冬季兼六園最美畫面預習。" },
            { title: "日本中部自駕 8 天 7 夜攻略", id: "f8Pog89Fx_Y", detail: "自駕行程美食與景點細節。" },
            { title: "飛驒高山散策與文青指南", id: "0eQrwHVN3zo", detail: "高山老街與交通散步路線。" },
            { title: "名古屋 EP8 親子景點全攻略", id: "mZSIqFjlGN8", detail: "樂高樂園與磁浮鐵道館指南。" },
            { title: "鐵道迷朝聖：名古屋磁浮館", id: "-Qb33i8lWiE", detail: "磁浮館設施與模擬體驗介紹。" },
            { title: "名古屋市科學館親子體驗", id: "T9WCIQUbAlM", detail: "世界最大天文館互動設施。" },
            { title: "高岡哆啦A夢景點巡禮", id: "8cx0V_7O-gA", detail: "公園空地與故鄉畫廊紀錄。" }
        ];

        // --- 5. RENDER FUNCTIONS ---

        function renderFood(filter) {
            const grid = document.getElementById('food-grid');
            const filtered = filter === 'all' ? foodData : foodData.filter(f => f.type === filter);
            grid.innerHTML = filtered.map(f => `
                <div class="bg-white p-6 rounded-[2rem] shadow-sm border border-slate-200 hover:border-blue-600 transition group">
                    <div class="flex justify-between items-center mb-4">
                        <span class="text-[10px] font-bold text-slate-400 uppercase tracking-widest">${f.type}</span>
                        <span class="bg-blue-100 text-blue-800 text-[10px] font-black px-3 py-1 rounded-full">${f.budget}</span>
                    </div>
                    <h4 class="font-bold text-slate-800 mb-2 group-hover:text-blue-700 transition text-lg">${f.name}</h4>
                    <p class="text-xs text-slate-500 mb-5 line-clamp-2">${f.desc}</p>
                    <a href="${f.link}" target="_blank" rel="noopener noreferrer" class="text-xs font-black text-blue-600 flex items-center gap-1">
                        <i class="fa-solid fa-utensils"></i> 查看地圖
                    </a>
                </div>
            `).join('');
        }

        function filterFood(type) {
            renderFood(type);
            document.querySelectorAll('.food-btn').forEach(btn => btn.classList.remove('active', 'bg-blue-700'));
            event.target.classList.add('active', 'bg-blue-700');
        }

        function renderStay() {
            const container = document.getElementById('stay-list');
            container.innerHTML = stayInfo.map(s => `
                <div class="flex items-start gap-5 p-6 rounded-[2.5rem] bg-slate-50 border border-slate-100 transition shadow-sm">
                    <div class="bg-blue-900 text-white p-2 rounded-xl h-fit font-black text-xs whitespace-nowrap">${s.date}</div>
                    <div class="flex-1">
                        <p class="font-bold text-slate-800 text-lg">${s.name}</p>
                        <p class="text-xs text-slate-500 mt-2 font-medium font-mono">${s.addr}</p>
                        <p class="text-xs text-slate-600 mt-1 font-bold italic">Tel: ${s.tel || 'N/A'}</p>
                    </div>
                </div>
            `).join('');
        }

        function renderYT() {
            const grid = document.getElementById('yt-grid');
            grid.innerHTML = ytLinks.map(v => `
                <a href="http://www.youtube.com/watch?v=${v.id}" target="_blank" rel="noopener noreferrer" class="group block bg-white rounded-[2.5rem] p-5 shadow-sm border border-slate-100 hover:shadow-2xl transition">
                    <div class="aspect-video bg-slate-100 rounded-3xl mb-4 overflow-hidden relative shadow-inner">
                        <img src="https://img.youtube.com/vi/${v.id}/mqdefault.jpg" class="w-full h-full object-cover group-hover:scale-110 transition duration-500" alt="Video">
                        <div class="absolute inset-0 bg-black/10 transition flex items-center justify-center">
                            <i class="fa-solid fa-circle-play text-5xl text-white/90 shadow-2xl"></i>
                        </div>
                    </div>
                    <h5 class="font-bold text-base text-slate-800 leading-snug group-hover:text-blue-700 transition">${v.title}</h5>
                    <p class="text-[10px] text-slate-400 mt-3 font-bold italic">${v.detail}</p>
                </a>
            `).join('');
        }

        function initCharts() {
            const ctx = document.getElementById('typeChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['親子樂園', '文化古蹟', '雪地體驗', '美食購物'],
                    datasets: [{
                        data: [40, 20, 20, 20],
                        backgroundColor: ['#1E3A8A', '#B45309', '#0EA5E9', '#EC4899'],
                        borderWidth: 0
                    }]
                },
                options: { maintainAspectRatio: false, plugins: { legend: { position: 'bottom', labels: { font: { weight: 'bold', size: 12 } } } } }
            });

            const bCtx = document.getElementById('budgetChart').getContext('2d');
            new Chart(bCtx, {
                type: 'bar',
                data: {
                    labels: ['D1-D3', 'D4-D6', 'D7-D9', 'D10-D13'],
                    datasets: [{
                        label: '人均預算 JPY',
                        data: [5000, 10000, 6000, 5000],
                        backgroundColor: '#1E3A8A',
                        borderRadius: 15
                    }]
                },
                options: { maintainAspectRatio: false, scales: { y: { beginAtZero: true } } }
            });
        }

        window.onload = () => {
            const renderItinerary = () => {
                const container = document.getElementById('itinerary-grid');
                container.innerHTML = dayData.map(d => `
                    <div class="relative pl-12">
                        <div class="absolute left-0 top-0 w-10 h-10 rounded-full bg-blue-900 text-white flex items-center justify-center font-black z-10 text-sm shadow-md border-2 border-white">
                            ${d.day}
                        </div>
                        <div class="${d.style} rounded-[3rem] p-8 shadow-sm mb-6 border-b-4 border-slate-200">
                            <h3 class="text-2xl font-black text-slate-800 mb-8">${d.date} | ${d.title}</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 text-slate-800">
                                ${d.spots.map(s => `
                                    <div class="bg-white/80 p-6 rounded-[2rem] border border-white flex flex-col justify-between shadow-sm hover:shadow-lg transition">
                                        <div>
                                            <div class="flex justify-between items-start mb-4">
                                                <span class="text-xs font-bold text-blue-700 font-mono tracking-tighter">${s.time}</span>
                                                <span class="ticket-box">門票：${s.price}</span>
                                            </div>
                                            <h4 class="font-bold text-slate-900 mb-3 text-lg">${s.name}</h4>
                                            <p class="desc-text text-[13px]">${s.desc}</p>
                                        </div>
                                        <div class="mt-6 pt-4 border-t border-slate-200/50 flex justify-end">
                                            <a href="${s.map}" target="_blank" rel="noopener noreferrer" class="text-xs font-black text-blue-600 flex items-center gap-1 hover:underline">
                                                <i class="fa-solid fa-location-arrow"></i> 開啟地圖
                                            </a>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                `).join('');
            };

            renderItinerary();
            renderFood('all');
            renderStay();
            renderYT();
            initCharts();
        };
    </script>
</body>
</html>